<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="app.controllers.ReportsController"
            style="-fx-background-color: #f8fafc;">

    <top>
        <VBox spacing="10">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <HBox spacing="10">
                <Label text="Ù…Ù†:"/>
                <DatePicker fx:id="fromDatePicker"/>

                <Label text="Ø¥Ù„Ù‰:"/>
                <DatePicker fx:id="toDatePicker"/>

                <Label text="Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:"/>
                <ComboBox fx:id="typeFilter" promptText="Ø§Ù„ÙƒÙ„"/>

                <!-- ðŸŸ¢ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« -->
                <Label text="Ø§Ù„Ø¹Ù†ØµØ±:"/>
                <ComboBox fx:id="itemSearchBox" promptText="Ø§Ø¨Ø­Ø« Ø¹Ù† ØµÙ†Ù..." prefWidth="180" editable="true"/>

                <Button fx:id="refreshButton" text="ðŸ”„ ØªØ­Ø¯ÙŠØ«" onAction="#onRefreshClicked" styleClass="primary-button"/>
                <Button fx:id="exportButton" text="ðŸ“Š ØªØµØ¯ÙŠØ± Excel" onAction="#onExportClicked" styleClass="success-button"/>
            </HBox>

            <!-- ðŸŸ¢ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ù„ÙŠ Ø¨ÙŠØ¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¯Ø§Ø®Ù„ ÙˆØ§Ù„Ø®Ø§Ø±Ø¬ -->
            <HBox spacing="20">
                <Label fx:id="totalInLabel" style="-fx-text-fill:#15803d; -fx-font-weight:bold;"/>
                <Label fx:id="totalOutLabel" style="-fx-text-fill:#dc2626; -fx-font-weight:bold;"/>
                <Label fx:id="netLabel" style="-fx-text-fill:#1e40af; -fx-font-weight:bold;"/>
                <Label fx:id="statusLabel" style="-fx-text-fill:#16a34a; -fx-font-weight:bold;"/>
            </HBox>
        </VBox>
    </top>


    <center>
        <TabPane fx:id="reportsTabs">
            <Tab text="ðŸ“¦ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <TableView fx:id="transactionsTable" prefHeight="500"
                               style="-fx-background-color:white; -fx-border-color:#e2e8f0; -fx-border-radius:10;">
                        <columns>
                            <TableColumn text="Ø§Ù„ÙƒÙˆØ¯" fx:id="colTransID" prefWidth="60"/>
                            <TableColumn text="Ø§Ù„ØµÙ†Ù" fx:id="colItemName" prefWidth="160"/>
                            <TableColumn text="Ø§Ù„Ù†ÙˆØ¹" fx:id="colType" prefWidth="80"/>
                            <TableColumn text="Ø§Ù„ÙƒÙ…ÙŠØ©" fx:id="colQty" prefWidth="100"/>
                            <TableColumn text="Ø§Ù„ØªØ§Ø±ÙŠØ®" fx:id="colDate" prefWidth="160"/>
                            <TableColumn text="Ø§Ù„Ù…ÙˆØ¸Ù" fx:id="colEmp" prefWidth="100"/>
                            <TableColumn text="Ø§Ù„Ù…Ø³ØªÙ„Ù…" fx:id="colReceiver" prefWidth="120"/>
                            <TableColumn text="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" fx:id="colNotes" prefWidth="160"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <Tab text="âš ï¸ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù†Ø§Ù‚ØµØ©">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <TableView fx:id="shortagesTable" prefHeight="500"
                               style="-fx-background-color:white; -fx-border-color:#e2e8f0; -fx-border-radius:10;">
                        <columns>
                            <TableColumn text="Ø§Ù„ØµÙ†Ù" fx:id="colShortItem" prefWidth="180"/>
                            <TableColumn text="Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©" fx:id="colShortCurrent" prefWidth="140"/>
                            <TableColumn text="Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰" fx:id="colShortMin" prefWidth="140"/>
                            <TableColumn text="ØªØ§Ø±ÙŠØ® Ø§Ù„ÙƒØ´Ù" fx:id="colShortDate" prefWidth="180"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <Tab text="ðŸ“ Ø§Ù„Ø³Ø¬Ù„ (Logs)">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <TableView fx:id="logsTable" prefHeight="500"
                               style="-fx-background-color:white; -fx-border-color:#e2e8f0; -fx-border-radius:10;">
                        <columns>
                            <TableColumn text="Ø§Ù„Ø­Ø¯Ø«" fx:id="colLogAction" prefWidth="180"/>
                            <TableColumn text="Ø§Ù„ÙˆØµÙ" fx:id="colLogDesc" prefWidth="300"/>
                            <TableColumn text="Ø§Ù„Ù…ÙˆØ¸Ù" fx:id="colLogEmp" prefWidth="100"/>
                            <TableColumn text="Ø§Ù„ØªØ§Ø±ÙŠØ®" fx:id="colLogDate" prefWidth="180"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>
        </TabPane>
    </center>
</BorderPane>
