<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="app.controllers.DashboardController"
            style="-fx-background-color: linear-gradient(to bottom right, #f8fafc, #eef2ff);">

    <children>
        <VBox spacing="30" AnchorPane.topAnchor="20" AnchorPane.leftAnchor="30" AnchorPane.rightAnchor="30" AnchorPane.bottomAnchor="20">

            <!-- âœ… HEADER -->
            <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 10 20 10 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 2);">

                <!-- Logo -->
                <ImageView fitHeight="60" fitWidth="60">
                    <image>
                        <Image url="@/images/colord_logo.png"/>
                    </image>
                </ImageView>

                <!-- Company Name -->
                <VBox alignment="CENTER_LEFT">
                    <Label text="CHEM TECH"
                           style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #1e3a8a;"/>
                    <Label text="Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"
                           style="-fx-font-size: 14px; -fx-text-fill: #475569;"/>
                </VBox>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- Database Status -->
                <HBox alignment="CENTER_LEFT"
                      style="-fx-background-color: #f1f5f9; -fx-background-radius: 20; -fx-padding: 5 15 5 15;"
                      spacing="5">
                    <Label fx:id="dbStatusLabel"
                           text="Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„..."
                           style="-fx-text-fill: #0f172a; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                </HBox>

                <!-- Logout -->
                <Button text="ðŸ”’ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"
                        onAction="#logout"
                        style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-font-size: 13px;
                           -fx-font-weight: bold; -fx-background-radius: 10; -fx-cursor: hand;"
                        prefWidth="130" prefHeight="35"/>
            </HBox>

            <!-- Logged User -->
            <Label fx:id="loggedUserLabel" text="Ù…Ø±Ø­Ø¨Ø§Ù‹: "
                   style="-fx-text-fill: #334155; -fx-font-size: 14px; -fx-font-weight: bold;"/>

            <!-- âœ… STATS CARDS -->
            <GridPane hgap="20" vgap="20">
                <columnConstraints>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                </columnConstraints>

                <AnchorPane style="-fx-background-color: #e0f2fe; -fx-background-radius: 15;" GridPane.columnIndex="0">
                    <children>
                        <Label text="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ØµÙ†Ø§Ù" layoutX="25" layoutY="25" style="-fx-text-fill: #0369a1; -fx-font-size: 16px;"/>
                        <Label fx:id="totalItemsLabel" text="0" layoutX="25" layoutY="65" style="-fx-text-fill: #0c4a6e; -fx-font-size: 42px; -fx-font-weight: bold;"/>
                    </children>
                </AnchorPane>

                <AnchorPane style="-fx-background-color: #fef9c3; -fx-background-radius: 15;" GridPane.columnIndex="1">
                    <children>
                        <Label text="Ø£ØµÙ†Ø§Ù Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†" layoutX="25" layoutY="25" style="-fx-text-fill: #b45309; -fx-font-size: 16px;"/>
                        <Label fx:id="lowStockLabel" text="0" layoutX="25" layoutY="65" style="-fx-text-fill: #78350f; -fx-font-size: 42px; -fx-font-weight: bold;"/>
                    </children>
                </AnchorPane>

                <AnchorPane style="-fx-background-color: #dcfce7; -fx-background-radius: 15;" GridPane.columnIndex="2">
                    <children>
                        <Label text="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª" layoutX="25" layoutY="25" style="-fx-text-fill: #166534; -fx-font-size: 16px;"/>
                        <Label fx:id="totalTransactionsLabel" text="0" layoutX="25" layoutY="65" style="-fx-text-fill: #14532d; -fx-font-size: 42px; -fx-font-weight: bold;"/>
                    </children>
                </AnchorPane>

                <AnchorPane style="-fx-background-color: #fae8ff; -fx-background-radius: 15;" GridPane.columnIndex="3">
                    <children>
                        <Label text="Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø³Ø¬Ù‘Ù„Ø©" layoutX="25" layoutY="25" style="-fx-text-fill: #86198f; -fx-font-size: 16px;"/>
                        <Label fx:id="totalDevicesLabel" text="0" layoutX="25" layoutY="65" style="-fx-text-fill: #701a75; -fx-font-size: 42px; -fx-font-weight: bold;"/>
                    </children>
                </AnchorPane>
            </GridPane>

            <!-- âœ… Transactions Summary -->
            <HBox spacing="20">
                <AnchorPane HBox.hgrow="ALWAYS" prefHeight="120" style="-fx-background-color: #dbeafe; -fx-background-radius: 15;">
                    <children>
                        <Label text="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ© (IN)" layoutX="25" layoutY="25" style="-fx-text-fill: #1d4ed8; -fx-font-size: 16px;"/>
                        <Label fx:id="totalInLabel" text="0" layoutX="25" layoutY="65" style="-fx-text-fill: #1e3a8a; -fx-font-size: 38px; -fx-font-weight: bold;"/>
                    </children>
                </AnchorPane>

                <AnchorPane HBox.hgrow="ALWAYS" prefHeight="120" style="-fx-background-color: #fee2e2; -fx-background-radius: 15;">
                    <children>
                        <Label text="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…ØµØ±ÙˆÙØ© (OUT)" layoutX="25" layoutY="25" style="-fx-text-fill: #b91c1c; -fx-font-size: 16px;"/>
                        <Label fx:id="totalOutLabel" text="0" layoutX="25" layoutY="65" style="-fx-text-fill: #7f1d1d; -fx-font-size: 38px; -fx-font-weight: bold;"/>
                    </children>
                </AnchorPane>
            </HBox>

            <!-- âœ… Last Transaction -->
            <!-- âœ… Last Transaction -->
            <AnchorPane prefHeight="140" style="-fx-background-color: #f1f5f9; -fx-background-radius: 15;">
                <Label text="ðŸ•’ Ø¢Ø®Ø± Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…:" layoutX="25" layoutY="20"
                       style="-fx-text-fill: #334155; -fx-font-size: 16px;"/>
                <VBox fx:id="lastTransactionContainer"
                      layoutX="230" layoutY="15"
                      spacing="5"
                      prefWidth="900"
                      style="-fx-padding: 5;"/>
            </AnchorPane>

            <!-- âœ… Quick Actions -->
            <!-- âœ… Quick Actions -->
            <FlowPane hgap="15" vgap="10" alignment="CENTER">
                <Button text="âž• Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯" onAction="#openAddItemPage"
                        style="-fx-background-color:#22c55e; -fx-text-fill:white; -fx-font-weight:bold; -fx-background-radius:10;"
                        prefWidth="180" prefHeight="50"/>
                <Button text="ðŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†" onAction="#openInventoryManagement"
                        style="-fx-background-color:#0ea5e9; -fx-text-fill:white; -fx-font-weight:bold; -fx-background-radius:10;"
                        prefWidth="180" prefHeight="50"/>
                <Button text="ðŸ§° ØªØ³Ø¬ÙŠÙ„ Ø¬Ù‡Ø§Ø² Ø¬Ø¯ÙŠØ¯" onAction="#openAddDevicePage"
                        style="-fx-background-color:#facc15; -fx-text-fill:#78350f; -fx-font-weight:bold; -fx-background-radius:10;"
                        prefWidth="180" prefHeight="50"/>
                <Button text="ðŸ§¾ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©" onAction="#openDevicesPage"
                        style="-fx-background-color:#6366f1; -fx-text-fill:white; -fx-font-weight:bold; -fx-background-radius:10;"
                        prefWidth="180" prefHeight="50"/>
                <Button text="ðŸ“¦ ØªØªØ¨Ù‘Ø¹ Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„" onAction="#openSerialTracking"
                        style="-fx-background-color:#3b82f6; -fx-text-fill:white; -fx-font-weight:bold; -fx-background-radius:10;"
                        prefWidth="180" prefHeight="50"/>
                <Button text="ðŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±" onAction="#openReports"
                        style="-fx-background-color:#14b8a6; -fx-text-fill:white; -fx-font-weight:bold; -fx-background-radius:10;"
                        prefWidth="180" prefHeight="50"/>
                <Button text="ðŸ› ï¸ ØµÙŠØ§Ù†Ø© ÙˆØªÙˆØ§Ù„Ù" onAction="#onScrapMaintenanceClicked"
                        style="-fx-background-color:#ef4444; -fx-text-fill:white; -fx-font-weight:bold; -fx-background-radius:10;"
                        prefWidth="180" prefHeight="50"/>

                <!-- âœ… Ø²Ø±Ø§Ø± Ø§Ù„ØªØ³Ø¹ÙŠØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
                <Button text="ðŸ’° Ø§Ù„ØªØ³Ø¹ÙŠØ±" onAction="#openPricingPage"
                        style="-fx-background-color:#f59e0b; -fx-text-fill:white; -fx-font-weight:bold; -fx-background-radius:10;"
                        prefWidth="180" prefHeight="50"/>
            </FlowPane>
        </VBox>
    </children>
</AnchorPane>
